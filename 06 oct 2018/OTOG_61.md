### ผ่าเมืองกรุง เฮลิคอปเตอร์

#### by ชาวบ้านเวล99

​	ถ้าเราลองวาดรูปแบบที่โจทย์ต้องการมานับช่องที่ฮอลบินผ่านดูหลายๆรูปแบบ เราจะจับประเด็นได้ 2 ประเด็นหลักๆ นั่นก็คือ

- ฮอลจะบินผ่านมุมของสี่เหลี่ยมใดๆหาก ห.ร.ม.ของด้านทั้งสองไม่เท่ากับ 1 (ซึ่งหมายความว่าหากห.ร.ม.ของด้านทั้งสองเท่ากับ 1 มันจะไม่ผ่านมุมเลย)

- เมื่อห.ร.ม ของด้านทั้งสองเท่ากับ 1 จำนวนช่องที่ฮอลบินผ่าน จะเท่ากับ จำนวนช่องที่ติดกับขอบล่างหรือขอบขวา ทุกกรณี
  (แนบรูป2รูป)

ดังนั้นในกรณีที่ ห.ร.ม. ของด้านทั้งสอง เท่ากับ 1 นั้น เราสามารถคำนวณจำนวนช่องได้ดังนี้

`จำนวนช่อง = ความกว้าง + ความยาว - 1`

**แต่ถ้า ห.ร.ม มันไม่เท่ากับ 1 ล่ะ **

ง่ายๆครับ เราก็สามารถแยกออกเป็นหลายๆรูปย่อยได้ เนื่องจาก มันบินผ่านมุม

![รูปในกรณีห.ร.ม != 1](D:\Programming stuff\Solution\images\OTOG_61.PNG)



ดังนั้นสำหรับกรณีทั่วไป เราจะสามารถคำนวณได้ดังนี้

`จำนวนช่องทั้งหมด = (ความกว้างย่อย + ความยาวย่อย - 1) * ห.ร.มของด้านทั้งสอง`

เมื่อเรากระจายห.ร.ม เข้าไป จะได้สูตรสำเร็จดังนี้

`จำนวนช่องทั้งหมด = ความกว้าง + ความยาว - ห.ร.มของด้านทั้งสอง`

ดังนั้นโค้ดเราก็จะสั้นมากครับเพียงแค่คำนวณสูตรเอง ที่เขียนยุ่งยากที่สุดในข้อนี้คงเป็นการหาห.ร.มแล้วล่ะครับ 555 หวังว่าทุกคนจะเข้าใจนะครับ

```c
#include <stdio.h>
// หา ห.ร.ม ธรรมดา ถ้าไม่เข้าใจวิธีหาแบบนี้ก็ยังไม่เป็นไรครับ
int gcd(int a, int b) {
    if (b == 0)
        return a;
    return gcd(b, a%b);
}
int main() {
    int n, m;
    scanf("%d %d", &n, &m);
    // ความกว้าง = จำนวนจุดตัด - 1
    n--; m--;  
    printf("%d", n+m-gcd(n,m));
    return 0;
}
```



*ป.ล. ข้อนี้มีอีก sol นึงที่พี่คิดออกก่อน sol นี้ แต่จะเขียนยากกว่านิดหน่อย ใครอยากรู้ก็ทักมาถามพี่ (ปั้น)ได้ครับ*

**Pun the Villager** - Editorial Text

**Pannxe** - Example Code