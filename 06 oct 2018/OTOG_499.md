### pattern_9

#### by pannxe

​	แพตเทิร์นอันนี้มองยากหน่อย สังเกตุจากตัวอย่างที่ให้มา เมื่อเขียนเลขต่าง ๆ เป็นเลขฐาน 2 แล้วจะได้

````tex
    1 :     0000 0001   *
    2 :     0000 0010   **
    3 :     0000 0011   *
    4 :     0000 0100   ***
    5 :     0000 0101   *
    6 :     0000 0110   **
    7 :     0000 0111   *
    8 :     0000 1000   ****
````

​	นั่นคือจำนวน * จะเท่ากับจำนวนเลข 0 ด้านหลัง +1 เมื่อเขียนในระบบฐาน 2 เราจึงต้องใช้ bitwise operator เข้าช่วย ในที่นี้คือคำสั่ง **>> (right shift)**
**a >> b หมายความว่า : เลื่อนบิตทั้งหมดของ a ไปทางขวา b หลัก** เช่น

- 32 >> 2 : เราลองเขียน 32 ในระบบฐาน 2 จะได้ 0010 0000 และเลื่อนทั้และเลื่อนทั้งหมด
  ​    ไปทางขวา 2 หลัก คือ 0000 1000 = 8
- 7 >> 1 : 7 คือ 0000 0111 เมื่อเลื่อนไป 1 หลักก็จะเป็น 0000 0011 = 3 



​	เราจึงให้ while มาช่วย โดยเช็กว่าหลักสุดท้ายเป็น 1 หรือยัง ในที่นี้เราทำได้โดยการนำมา **&  (and)** กับเลข 1 เพราะว่าเลข 1 นั้นเมื่อเขียนเป็นฐาน 2 คือ 0000 0001 และเมื่อ & แล้วจะทำให้ทุกหลักเป็น 0 หมด ยกเว้นหลักสุดท้ายที่จะเป็น 0 หรือ 1 จะขึ้นกับตัวที่เราเอามา & ด้วย เช่น

- 12 & 1 = 0 เพราะ 0000 110**0** & 0000 000**1** = 0000 000**0**

เมื่อวนเสร็จ 1 รอบเราก็ >> ไป 1 ครั้งเพื่อเลื่อนหลักต่อไปเป็นหลักสุดท้ายตัวใหม่ จนตัวสุดท้ายไม่ใช่ 0 แล้วเราจึงหยุดลูปที่ใช้พิมพ์ * และเริ่มเลขใหม่ ตามด้านข้างล่าง

```c
#include <stdio.h>
int main() {
    int n;
    scanf("%d", &n);
    for (int i = 1; i <= n; i++) {
        printf("%d: ", i);
        int x = i;
        printf("*");
        while(!(x&1)) {
            printf("*");
            x >>= 1;
        }
        printf("\n");
    }
    return 0;
}
```

.

.

.

.

### น้องครับ พี่ล้อเล่น :3

​	**จริง ๆ แล้วถ้าน้องสังเกตุดี ๆ จำนวน 0 ด้านหลังมันก็แค่จำนวน 2 ที่เป็นตัวประกอบของจำนวนนั้น ๆ นั้นแหละ** ฉะนั้นการเอา 0 ออกไปตัวนึงก็เหมือนการหาร 2 ออกธรรมดา ๆ  และการ & ด้วย 1 ก็เหมือนการ % ด้วย 2 เพราะว่ามีแค่เลขคี่ที่เลขหลักสุดท้ายในระบบฐาน 2 เป็น 1

​	ว่ากันง่าย ๆ มันแค่ถามว่า "**พิมพ์ * ตามจำนวน 2 ที่เป็นตัวประกอบของจำนวนนี้ + 1 ครั้ง**"

​	เอาจริง ๆ มันคือการทำอันเดียวกันกับอันตะกี้เลยครับ โดยทั่วไปแล้ววิธีนี้ช้ากว่า ถ้าเกิดในการแข่งขันในระดับที่สูงกว่านี้ การใช้ &1 แทน %2 หรือการ >>1 แทน /2 จะทำให้การทำงานของโปรแกรมเร็วกว่า แต่ยังไม่ต้องห่วงเรื่องเวลาครับตอนนี้ ทำเพื่อความเข้าใจของตัวเองดีกว่า

```c
#include <stdio.h>

int main() {
    int n;
    scanf("%d", &n);
    for (int i = 1; i <= n; i++) {
        printf("%d: ", i);
        int x = i;
        printf("*");
        while(x%2 == 0) {
            printf("*");
            x /= 2;
        }
        printf("\n");
    }
    return 0;
}
```

**Pannxe** - Editorial Text and Example Code
