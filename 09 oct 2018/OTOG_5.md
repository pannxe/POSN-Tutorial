### ชั่งสินค้า 

#### by ชาวบ้านเลเวล 99

​	โจทย์ถามว่า มีสินค้าน้ำหนักจำนวนหนึ่ง วางบนตาชั่ง และมีทุ่นน้ำหนักเป็นกำลังของ 3 ได้แก่ 1,3,9,27,81... ซึ่งเราต้องการทราบว่าถ้าต้องการนำสินค้ามาชั่งกับทุ่นน้ำหนัก ทำให้ตาชั่งสองแขนสมดุล แต่ละแขนจะหนักเท่าไร

ก่อนอื่นต้องบอกว่าข้อนี้อาศัยความรู้ทางคณิตศาสตร์นิดหน่อย เรารู้อยู่แล้วว่า จำนวนนับ A ใดๆ สามารถเขียนได้ในรูป

`A = a1(n^k) + a2(n^(k-1)) + a3(n^(k-2)) + ... + ak(n) + a`

เมื่อ a1,a2,a3,... เป็นจำนวนนับที่น้อยกว่า n และ k เป็นจำนวนนับใดๆ

ซึ่งถ้าเราให้ n=3 เราก็สามารถพิจารณาน้ำหนักที่เรารับค่ามาในรูปของผลบวกตัวเลขที่เป็นกำลังของ 3 ได้นั่นเอง เช่น 

1. 40 = 27 + 9 + 3 + 1
2. 20 = 2*9 + 2

ซึ่งการจะหาเลขชุดนี้ต้องใช้ความรู้เรื่องเลขฐานนั่นเอง ซึ่งถ้าเราต้องเปลี่ยนเลขน้ำหนักเป็นเลขฐาน 3 ดังนี้

1. 40 = 1111 ฐาน 3 
2. 20 = 202 ฐาน 3

**กรณีแรก : หากสัมประสิทธิ์หน้า 3^k ทุกตัวเป็น 1** 

​	ง่าย ๆ เลย เราก็แค่ ใส่ทุ่นน้ำหนักตามตัวเลขนั้นเลย (ในกรณีของ 40 คือใส่ 1, 3, 9, 27) จึงได้น้ำหนักแต่ละแขน = 40 เลย แต่ถ้าพิจารณา 20 เราจะพบว่ามันทำแบบนั้นไม่ได้เพราะ ทุ่นน้ำหนักแต่ละชนิดมีเพียงหนึ่งอน ดังนั้นเราจะไปพิจารณาในกรณีต่อไป

**กรณีที่สอง** 

เราจะพิจารณาพจน์ที่มีดีกรีน้อยไปหามาก ได้แก่ 0,1,2,3,...,19

* ถ้าสัมประสิทธิ์เท่ากับ 0 จะไม่พิจารณา

* ถ้ามีสัมประสิทธิ์เท่ากับ 1 จะทำการใส่ตุ้มน้ำหนักไปด้านตรงข้ามกับสินค้า เพื่อน้ำหนัก

* ถ้าสัมประสิทธิ์เท่ากับ 2 จะทำการใส่ตุ้มน้ำหนักนั้น ๆ ลงไปฝั่งเดียวกันกับสินค้า และจะเพิ่มสัมประสิทธิ์ของดีกรีถัดไป 1 เพื่อทดน้ำหนัก เช่น กรณีของ 20 : ดีกรีหน้า 3^0 คือ 2 เราจึงใส่ตุ้มน้ำหนัก  3^0 ไปฝั่งเดียวกับสินค้าและ 3^1 อีกฝั่งเพื่อทดให้น้ำหนักเป็น 2x(3^0) (เพราะ 3-1 = 2) ตามที่ต้องการ และเหตุที่ต้อง +1 แทนที่เป็นแทน ค่า 1 เพราะหากดีกรีถัดไปไม่ใช่ 0 แล้ว จะได้เกิดการทดต่อไปอีกเรื่อย ๆ

* ถ้าทำการทดแล้วสัมประสิทธิ์เป็น 3 ให้ทดดีกรีถัดไปเพิ่มอีก 1 และปรับค่าดีกรีปัจจุบันเป็น 0

ทำแบบนี้ไปเรื่อยๆจนถึงดีกรีสุดท้าย เราก็จะสามารถรู้น้ำหนักทั้งสองข้างได้นั่นเอง ในส่วนของโค้ดจะเป็นประมาณนี้

เนื่องจากกรณีที่ 2 ครอบคลุมกรณีที่ 1 ด้วย ดังนั้นจึงเขียนแค่กรณีที่ 2 ก็พอ

``` c
#include <stdio.h>
#include <math.h>

// ประกาศที่ goble เพราะอยากให้ค่าเริ่มต้นเป็น 0 ไว้ก่อน
int coef[21], count, weight; 

int main() {
    int n;
    scanf("%d", &n);
    // แปลงเลขฐาน โดยเก็บสัมประสิทธิ์ของ 3^i ไว้ที่ coef[i]
    for(int i=0; n != 0; i++) {
        coef[i] = n%3;
        n /= 3;
    }
    // ไล่ดูสัมประสิทธิ์ตั้งแต่ 3^0 ถึง 3^19 
    for(int i=0; i<20; i++) {
        switch(coef[i]) {
            //ถ้าเป็น 1 ให้เพิ่มจำนวนลูกตุ้มทีใช้ และบวกน้ำหนักตามนั้น
            case 1:
                count++;
                weight += (int)pow(3.0F,(double)i);
            break;
            //ถ้าเป็น 2 ให้เพิ่มจำนวนลูกตุ้มทีใช้ และเพิ่มค่าสัมประสิทธิ์ดีกรีถัดไป
            case 2:
                count++;
                coef[i+1]++;
            break;
            //ถ้าเป็น 3 ปรับให้เป็น 0 และเพิ่มค่าดีกรีถัดไป
            case 3:
                coef[i] = 0;
                coef[i+1]++;
            break;
        }
    }
    printf("%d %d", count, weight);
    return 0;
}
```

